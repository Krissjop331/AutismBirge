import React from 'react'
import './Header.css'
import { Navbar } from '../navbar/Navbar'
import { NavbarMobile } from '../navbarMobile/NavbarMobile'
import { Link } from 'react-router-dom'


export const Header = () => {

  const truncateText = (text, maxLength) => {
    if (text.length <= maxLength) {
        return text;
    }
    return text.substr(0, maxLength);
  };

  const truncateAndAddReadMore = (text, maxLength) => {
      const hasTruncated = text.length > maxLength;
      const truncatedText = hasTruncated ? text.substring(0, maxLength) : text;
      const lastSpaceIndex = truncatedText.lastIndexOf(' ');
      const truncatedTextWithReadMore = truncatedText.substring(0, lastSpaceIndex);
      const readMoreLink = hasTruncated &&  <Link to="/news/1"><br /><button className="buttonM">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button></Link>;

      // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å—Ç—Ä–æ–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º '<br />'
      const splitText = truncatedTextWithReadMore.split('\n').map((line, index, array) => (
          <React.Fragment key={index}>
              {line}
              {index !== array.length - 1 && <br />} {/* –î–æ–±–∞–≤–∏—Ç—å <br /> –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π */}
          </React.Fragment>
      ));

      return (
          <>
              {splitText}
              {readMoreLink}
          </>
      );
  };

  let maxLength;
    if (window.innerWidth <= 800) {
        maxLength = 400; // –î–ª—è —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –º–µ–Ω–µ–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ–≥–æ 800px
    } else if (window.innerWidth <= 750) {
        maxLength = 200; // –î–ª—è —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –º–µ–Ω–µ–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ–≥–æ 700px
    } else {
        maxLength = 500; // –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–∞
    }
  
  return (
    <header className='header' id='header'>
        <Navbar />
        <NavbarMobile />
        {/* <h1>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–µ—Ç–µ–π —Å —Ä–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∞—É—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ–∫—Ç—Ä–∞</h1>
        <p>{truncateAndAddReadMore(`
                                    –í—Å–µ –±–æ–ª—å—à–µ –∏ –±–æ–ª—å—à–µ –ª—é–¥–µ–π –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ! –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –±—ã–ª–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∞ –Ω–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–∫–ª—é–∑–∏–≤–Ω–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞ –≤ –≤—ã—Å—à–∏—Ö —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏—è—Ö, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è –ö–∞–∑–∞—Ö—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ê–±–∞—è. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–º—É –∫—Ä—É–≥–ª–æ–º—É —Å—Ç–æ–ª—É –æ —Ç–µ–º–µ ¬´–ò–Ω–∫–ª—é–∑–∏—è –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤¬ª! üåü\n
                                    üìÖ –î–∞—Ç–∞: 25 –∞–ø—Ä–µ–ª—è 2024 –≥.\n
                                    üïí –í—Ä–µ–º—è: 09:30-16:30\n
                                    üìç –ú–µ—Å—Ç–æ: –ö–∞–∑–∞—Ö—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –ê–±–∞—è, –≥. –ê–ª–º–∞—Ç—ã, –ø—Ä–æ—Å–ø–µ–∫—Ç –î–æ—Å—Ç—ã–∫ 13, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª 202\n
                                    üíª –§–æ—Ä–º–∞—Ç: –æ—Ñ–ª–∞–π–Ω/–æ–Ω–ª–∞–π–Ω\n
                                    üîç –í —Ö–æ–¥–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –±—É–¥—É—Ç –æ–±—Å—É–∂–¥–∞—Ç—å—Å—è –≤–æ–ø—Ä–æ—Å—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–µ—Ç–µ–π —Å —Ä–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∞—É—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ–∫—Ç—Ä–∞ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å—Ä–µ–¥—É. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –õ—è–∑–∑–∞—Ç –ö–æ—à–µ—Ä–±–∞–µ–≤–æ–π, –ê–π–∂–∞–Ω –°–∞–º–∞–º–±–∞–µ–≤–æ–π –∏ –õ–∞—É—Ä—ã –ö–æ–∂–∞–≥–µ–ª—å–¥–∏–µ–≤–æ–π –∏–∑ SDU, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–µ–ª—è—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.\n
                                    –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é –≤–∞–∂–Ω—ã—Ö —Ç–µ–º –Ω–∞–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–æ–ª–µ–µ –∏–Ω–∫–ª—é–∑–∏–≤–Ω–æ–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã! –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Å—ã–ª–∫–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ.
        `, maxLength)}</p> */}
    </header>
  )
}
