# Установка базового образа
FROM node:18

# Установка директории приложения в контейнере
WORKDIR .

# Копирование зависимостей и package.json
COPY package.json ./

# Установка зависимостей через Yarn
RUN npm install

# Копирование файлов приложения в контейнер
COPY . .

# Открытие порта, на котором будет работать приложениеE
EXPOSE 5000

# Команда запуска приложения
# CMD ["npm", "run", "start:dev"]
CMD ["node", "--max-old-space-size=4096", "server.js"]